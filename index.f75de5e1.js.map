{"mappings":"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","sources":["src/scripts/main.js"],"sourcesContent":["'use strict';\n\ndocument.addEventListener('DOMContentLoaded', app);\n\nfunction app() {\n  const headers = document.querySelectorAll('table thead th');\n  const table = document.querySelector('table');\n  const tbody = document.querySelector('table tbody');\n\n  table.addEventListener('dblclick', (e) => {\n    const cell = e.target;\n\n    if (cell.tagName === 'TD') {\n      cellEdit(cell);\n    }\n  });\n\n  selectUser();\n  sortLogic(headers, tbody);\n  createForm();\n}\n\nfunction cellEdit(cell) {\n  const prevValue = cell.innerHTML;\n  const input = document.createElement('input');\n\n  input.className = 'cell-input';\n  input.value = prevValue;\n  cell.innerHTML = '';\n  cell.appendChild(input);\n  input.focus();\n\n  input.addEventListener('blur', () => {\n    saveChanges(input.value, cell, prevValue);\n  });\n\n  input.addEventListener('keypress', (e) => {\n    if (e.key === 'Enter') {\n      saveChanges(input.value, cell, prevValue);\n    }\n  });\n\n  const saveChanges = (value, cellToChange, prev) => {\n    if (value) {\n      cellToChange.innerHTML = value;\n      input.remove();\n    } else {\n      cellToChange.innerHTML = prev;\n    }\n  };\n}\n\nfunction createForm() {\n  const datas = ['name', 'position', 'office', 'age', 'salary'];\n\n  const form = document.createElement('form');\n  const button = document.createElement('button');\n\n  form.className = 'new-employee-form';\n  form.method = 'post';\n  form.action = '/';\n  button.type = 'submit';\n  button.textContent = 'Save to table';\n\n  const createSelect = (data) => {\n    const options = [\n      `Choose office`,\n      `Tokyo`,\n      `Singapore`,\n      `London`,\n      `New York`,\n      `Edinburgh`,\n      `San Francisco`,\n    ];\n\n    const select = document.createElement('select');\n\n    options.forEach((item) => {\n      const option = document.createElement('option');\n\n      if (item === options[0]) {\n        option.disabled = true;\n        option.selected = true;\n        option.value = '';\n      }\n\n      option.textContent = item;\n      option.value = item;\n\n      select.appendChild(option);\n    });\n\n    select.name = data;\n    select.dataset.qa = data;\n    select.required = true;\n\n    return select;\n  };\n\n  datas.forEach((data) => {\n    const label = document.createElement('label');\n\n    label.textContent = `${data.charAt(0).toUpperCase() + data.slice(1)}:`;\n\n    if (data !== 'office') {\n      const input = document.createElement('input');\n\n      input.dataset.qa = data;\n      input.type = data === 'age' || data === 'salary' ? 'number' : 'text';\n      input.name = data;\n\n      label.appendChild(input);\n    } else {\n      const select = createSelect(data);\n\n      label.appendChild(select);\n    }\n\n    form.appendChild(label);\n  });\n\n  form.appendChild(button);\n  form.addEventListener('submit', addUser);\n  document.querySelector('table').after(form);\n}\n\nfunction selectUser() {\n  let selectedRow;\n\n  document.addEventListener('click', (e) => {\n    const currentRow = e.target.closest('tbody tr');\n\n    if (currentRow && currentRow !== selectedRow) {\n      if (selectedRow) {\n        selectedRow.classList.remove('active');\n      }\n      currentRow.classList.add('active');\n      selectedRow = currentRow;\n    } else if (!currentRow) {\n      if (selectedRow) {\n        selectedRow.classList.remove('active');\n      }\n    }\n  });\n}\n\nfunction sortLogic(headers, tbody) {\n  const sortOrder = {};\n\n  headers.forEach((header, index) => {\n    sortOrder[index] = true;\n\n    header.addEventListener('click', () => {\n      headers.forEach((_, i) => {\n        if (i !== index) {\n          sortOrder[i] = true;\n        }\n      });\n\n      const isAscending = sortOrder[index];\n\n      sortColumn(index, isAscending);\n      sortOrder[index] = !isAscending;\n    });\n  });\n\n  const sortColumn = (indexOfColumn, isAscending) => {\n    const rows = [...document.querySelectorAll('table tbody tr')];\n\n    rows.sort((a, b) => {\n      const aCell = a.children[indexOfColumn].textContent.trim();\n      const bCell = b.children[indexOfColumn].textContent.trim();\n\n      const aValue = parseFloat(aCell.replace(/[$,]/g, '')) || aCell;\n      const bValue = parseFloat(bCell.replace(/[$,]/g, '')) || bCell;\n\n      let result;\n\n      if (!isNaN(aValue) && !isNaN(bValue)) {\n        result = aValue - bValue;\n      } else {\n        result = aValue.localeCompare(bValue);\n      }\n\n      return isAscending ? result : -result;\n    });\n\n    rows.forEach((row) => {\n      tbody.appendChild(row);\n    });\n  };\n}\n\nfunction getFormData(form) {\n  const data = new FormData(form);\n  const nameInput = data.get('name');\n  const position = data.get('position');\n  const office = data.get('office');\n  const age = data.get('age');\n  const salary = +data.get('salary');\n\n  return {\n    name: nameInput,\n    position,\n    office,\n    age,\n    salary: `$${salary.toLocaleString('en-US')}`,\n  };\n}\n\nfunction addUser(e) {\n  e.preventDefault();\n\n  const form = document.querySelector('.new-employee-form');\n  const tbody = document.querySelector('tbody');\n\n  const user = getFormData(form);\n\n  if (user.name.length < 4 || !user.name.trim().length) {\n    createNotification(\n      'error',\n      'Fix your name',\n      'The name must consist of at least 4 letters.',\n    );\n\n    return;\n  }\n\n  if (!user.position.trim().length) {\n    createNotification(\n      'error',\n      'Fix your position',\n      'Position field can not be empty.',\n    );\n\n    return;\n  }\n\n  if (user.office === null) {\n    createNotification(\n      'error',\n      'Fix your office',\n      'Ofice field can not be empty.',\n    );\n\n    return;\n  }\n\n  if (user.age < 18 || user.age > 90) {\n    createNotification('error', 'Fix your age', 'Your age is not appropriate.');\n\n    return;\n  }\n\n  if (!parseFloat(user.salary.replace(/[$,]/g, ''))) {\n    createNotification(\n      'error',\n      'Fix your salary',\n      'Salary field can not be empty',\n    );\n\n    return;\n  }\n\n  const newTr = document.createElement('tr');\n\n  Object.values(user).forEach((value) => {\n    const td = document.createElement('td');\n\n    td.innerHTML = value;\n\n    newTr.appendChild(td);\n  });\n\n  tbody.appendChild(newTr);\n  form.reset();\n\n  const select = form.querySelector('select[name=\"office\"]');\n\n  select.selectedIndex = 0;\n  createNotification('success', 'Success!', 'User was successfully added.');\n}\n\nfunction createNotification(state, fix, message) {\n  const div = document.createElement('div');\n  const description = document.createElement('p');\n  const title = document.createElement('p');\n\n  div.dataset.qa = 'notification';\n  div.classList.add(state, 'notification');\n  title.innerHTML = fix;\n  title.className = 'title';\n  description.innerHTML = message;\n\n  div.append(description, title);\n  document.body.appendChild(div);\n\n  setTimeout(() => {\n    div.remove();\n  }, 3000);\n}\n\nconst style = document.createElement('style');\n\nstyle.textContent = `\n      input[type='number']::-webkit-outer-spin-button,\n      input[type='number']::-webkit-inner-spin-button {\n        -webkit-appearance: none;\n        margin: 0;\n      }\n\n      input[type='number'] {\n        -moz-appearance: textfield;\n      }\n    `;\n\ndocument.head.appendChild(style);\n"],"names":[],"version":3,"file":"index.f75de5e1.js.map","sourceRoot":"/__parcel_source_root/"}